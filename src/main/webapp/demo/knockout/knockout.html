<script src="http://knockoutjs.com/downloads/knockout-3.3.0.js"></script>
<div class="container-fluid">
	<div class="well col-md-4">
		<h2>Live example</h2>
		<img src="http://knockoutjs.com/img/ko-logo.png"/>
		<div id="liveExample">
			<p>
				Choose a ticket class:
				<select data-bind="options: tickets, optionsCaption: 'Choose...', optionsText: 'name', value: chosenTicket"></select>
				<button data-bind="enable: chosenTicket, click: resetTicket">Clear</button>
			</p>                   
			<p data-bind="with: chosenTicket">
				You have chosen <b data-bind="text: name"></b>
				($<span data-bind="text: price"></span>)    
			</p>
		</div>
	</div>
	<div class="well col-md-8">
		<!-- Nav tabs -->
		<ul class="nav nav-tabs" role="tablist">
			<li role="presentation" class="active"><a href="#about"	aria-controls="about"	role="tab" data-toggle="tab">About</a></li>
			<li role="presentation">					<a href="#java1"	aria-controls="java1"	role="tab" data-toggle="tab">TicketServices.java</a></li>
			<li role="presentation">					<a href="#java2"	aria-controls="java2"	role="tab" data-toggle="tab">Ticket.java</a></li>
			<li role="presentation">					<a href="#js1"		aria-controls="js1"		role="tab" data-toggle="tab">Javascript</a></li>
			<li role="presentation">					<a href="#html1"	aria-controls="html1"	role="tab" data-toggle="tab">Html</a></li>
		</ul>
		<!-- Tab panes -->
		<div class="tab-content">
			<div role="tabpanel" class="tab-pane active" id="about">
			</div>
			<div role="tabpanel" class="tab-pane" id="java1">
				<pre><code class="java">
@Singleton
@DataService(resolver = Constants.Resolver.CDI)
public class TicketServices {
	private List&lt;Ticket&gt; tickets;
	@PostConstruct
	private void init() {
		tickets = new ArrayList&lt;&gt;();
		tickets.add(new Ticket("Economy", 199.95));
		tickets.add(new Ticket("Business", 449.22));
		tickets.add(new Ticket("First Class", 1199.99));
	}
	public List&lt;Ticket&gt; getTickets() {
		return tickets;
	}
}
				</code></pre>
			</div>
			<div role="tabpanel" class="tab-pane" id="java2">
				<pre><code class="java">
public class Ticket {
	private String name;
	private double price;
	public Ticket(String name, double price) {
		this.name = name;
		this.price = price;
	}
	public Ticket() {
	}
	public String getName() {
		return name;
	}
	public void setName(String name) {
		this.name = name;
	}
	public double getPrice() {
		return price;
	}
	public void setPrice(double price) {
		this.price = price;
	}
}
					</code></pre>
			</div>
			<div role="tabpanel" class="tab-pane" id="js1">
				<pre><code class="js">
function TicketsViewModel() {
	var ticketServices = new TicketServices();
	var model = this;
	model.tickets = ko.observableArray([]);
	model.chosenTicket = ko.observable();
	model.resetTicket = function () {
		this.chosenTicket(null);
	};
	var onFault = function (fault) {
		alert(fault.message + "\n" + fault.classname + "\n" + fault.stacktrace.join('\n'));
	};
	model.loadTickets = function () {
		ticketServices.getTickets().then(function (tickets) {
			model.tickets.remove(function(item) { return true;});
			for (var key in tickets){
				model.tickets.push(tickets[key]);
			}
		}).catch(onFault);
	};
	model.loadTickets();
}
ocelotController.addOpenListener(function (event) {
	ko.applyBindings(new TicketsViewModel(), document.getElementById("liveExample"));
});
			</code></pre>
			</div>
			<div role="tabpanel" class="tab-pane" id="html1">
				<pre><code class="html">
				</code></pre>
			</div>
		</div>
	</div>
</div>
<script src="knockout.js"></script>
