sudo: false
env:
  global:
    # VPS_PASSWORD
    - secure: "STPrtsqSqT3N8RNEekE+NOst2MCtTIgZg959Xb9fkS7lf1yynd8HvhOQMCC+6s+yJH0i3xcjK5GO6cnBxlsLNbPfqX6xKDDrBf0XhE7dN04+jiOGcmcZ2i1FShxA41V9Qvmw/iJoR58K9Yr9QU0sqjJeOi0LsB5TFGrlGYHYPatLVwPDJw4ccJAl56DRIawLmXcnphPep3/6FzrjpoAGarkCZDIxYLQy93vZr5h+eZSAhlY5Ty8NI/YnO1kik+3C0Pe6wf8J1AhXBOYpcvGgUMnS5r+BJUI1uHFa8aqtKpG2oXZ8yHDlfburI4z/d0Gh5KZBm6PLibeo0fN67cCHrEzoJRpH4Oxn4W3DAyG5N3rgfcbFh9odlrT6E4pJIzLnEVjqCTBWQQ+b0wfXCjIDyhdzfczz7ITa8KgoFAPi3ENEJX+1wJXVw5JC8YMVjRBGlkqf3z7MzdkHb1FD315PIzTCBZDlVFeVEvspxenq2hiTuvGsgF0PIUPxl00/zSRn4kNxhSoSTfaXVajD80ScFYmWPOngzP6vBiW/EBNeNPc8ruorU2S2Etc4CmsO7TJwMaXG1bqMav8/qycvuJboN+8dhgZiDTpvPy9bv7Hn8qP7POxw0ZDjt3WvVneDcIKVGVmKTgcxoMuIgFntGttvzJtFM4hTc2pH2pm/CPSkRNY="
    #- secure: "nIkvOju+8woUFd479l+pKyX2qkln1NJfs4We6tB79UoCyVKL95+YbfAgXs+Ok8rOUVWAAH6D3IJD+MoiUN5fJsCu6XE5gUhCycKg4KaDTKUAVOy6EROqPq4wqtEJ6MSDSQNPX2JrjR4kMiCfP29Ux2LpTwIJv7MOGaJDym0MQ3dOlhtT2DlTqLW4bb4yj2B7+zbGsN8yO+KRk1+2n+KYoNt8y/0pnnnuHNlbVnCIffwuMSay+8/Ntd+VDvj+XHNjYiARTZCEnaigb8up12EyB+mQliZYay8Ysn3m4FlRTfQ+BBo5Hnd+JlilGcA2egphsZTHJtZ+O5FW8llAHYPIneUsNksnNifeVN7fXV6BMR/HI9zkNZ0MQ0IkHdI6601xXBnGNDkx34frOsg0PdsM4G4fybsVYFL7Ne9R+/8coqL0fSHsqhxU4NweuQwRu11SsHtToKr/PzNFlg9fS1cr/0rlIb9CNxGJMdOblT2qXmr9Py8KRG3p9YmeES5za+/PNgKUJw9bkQ0jajmW1TIxqccqeatqW1h9Y9JVq9SG8h5sgUNszBd0RNR2Rf3amJe2bARp+YDyIxXPDQB/slnSYiAdSXsHBhwn52k+aqLtJj5Qd5W166DOtxyjt+/me7DNrg3QyO9sPXZmFsq+Aql9A3N1t1fhTtYNoBdTjuHvil4="
    # VPS_LOGIN
    - secure: "nvukMVMczHbAkPeXN2i+HLiqVXH1hlE61xKQbP597/BUTJVkYmuZwKf7C3OcAOX5goZLtx1JM3KsIP79aHm+HZNAmgWvPL596ZZUIDg1Es4zJqaYh4H96mAqt1+ptuM9lnDtOgHTHgvFmsaGP/IlkeiLH5xkKDdTosvHg1pmMu0VhBaYNSxjYwPGDMPBknt4G62qgOxWrWnTeY0VMWAxaz7cTwch4SuGHer9fDdK4ULbK8H1o+UL4Uwd8yHsVyBrGX6Di8DgcEMmIDXVYjqo6YdtFYnk5b/gzn4fWTDcvYTXdswPRJFXvZXejOxjcaSblRVBHshGm/jpPYCLnQyQEaLeVmWX3/rPqffx9dyiq2z4AB9FLh6bOahubz0UyiELTNa+ryXoP4pOw5L27re5BmnbzsulMZCcS7JiFpV4j0FQuHU5u2XzvH/uHWKrYidlhuVixz3wukha2DRywrQdSIWIW7kStqQt50bNBpHOwoSzVwwUhE5NGP7gHmWwuaLjqzE9pNX5ZxczP3GC/1U6OsQZQ0E0hOAvbipV8O86OQGikl3WZWr3JES9MvMQgwCTP8tdB2lxb01esXpXlK8hiRI+yoUE/JsowrXNLmFbiIy7qx9vlrlO3Ut4PdpU1MwfbzrOWn50V59gyDSTy/b4uWSRjGE6hr+p52MJqpwoYn0="
    #- secure: "SwzeEWSLYopCU28jCSzwuNeAAkjgBYidFZDGqFUjaZ1JmSjCWDyX68gTqtkh4HyznWluJ6e2OJCMHjXp6jDdK8PQKrFAYicgr7jr8lUOZ8kyC2Ukhd+GlUsXlTwhGpLV8zc6BmJnQy/N01QVR/B3W3MM/PFNWU1VifC7z68pYhkwCKL3V4Qm7IwoBvvdEBHIHv+hDDX65VK01iR9Z9UN72Mc2Nyw0Hla0LZ+auY/cH6+/LFPkpMz+D0+O74ip7mNm3aaVm/q+CXensmsf2y76SZF0gWelxs8eMBvCBHWVxLj02arYRd2A1qqhPWFd1+2JW44NZV64Po6U12R+pCRfJObFKOiBo+mWN87/uJaYbEcskk8rP60g+09XggwM/xFsXgUmbXT23f4auAE75mcDqSL9JXI0QWkph0y9sbT9euCrWIirXeppF5DxyCccaehJ/Zrv6Pl6H1l5zcNVYE/z4zb1aMhli49I68/yPpcEIb2fXl0rlwIdi+a0kYR0Q5WBQuNuO5/ZDYbMzWiVoExD07HYPfVeTaRngPENDathEtZHPd3On0GUnJKiA0mexMSLOcKF/B6cEGspX6cxyG9q6EobhJRFzxazqFMRvlajWJKN3q0X8/IoyHgzWlEq8uAKys5qyHBNlEggHxdjNTDgaaG1GWy5GJk+hwgZj9xk5U="
    # VPS_HOST
    - secure: "F+QviHgDgxNeuTVex5IYVsHuEo5lteSVvTGmINnc2bN8MJT33TFrl2/5k8fHGEOfCftuww/mxvAnsOuy+lTfuCiLunJrpPQo5mveALEwa7whqdEare/seSW0m5EHsoJ4CR3WXIpRBJiCtMkQY0+ak0ULC63So1XExOoY4yIZHaoCR8xhgUq5t2MS3ctdSpBqF265WkI8WGKV8OCi4c6eSSkfFSIeE8ZysEXyoqZbB6nhqIYrrfaQQ12vT2GahQ2STF5+TKC6t9IL/bIn8xJeRI/bqmk9NFyUHn4hTcxnwHEAvRVsT15hoqeqDImExLiGC9uWfRAKVCqzwIfPNbW5RqEI3IrgtzAte/tqyMCt4QN6jWaeyfJwhiK/9eFaSHvd68wANCVAnWl9sVKu73WAhgaFRw5JOjabKO2ZrS1wVdCLmhz503ZvN2cVsqzpgvYc+6vzay7HVIhIKNTExX0c35na3rz2+QxQ0N2TIq/T/98cedexRELfYqiKn/fs8kFlPOnk3Kj+qCa7NkoTfa4w3MU30GCdpghxIdrji8zeh0830jAxPo/sE3ScesrMRqUweE9jit9V+cDA3d319xJiX0Q4dL7hTi6406yoE0o7rUgDt2JqemPG0O3CpwlE91NqSJ5juBLNfgcsQfZcxd11ioXleBnKf22zgLEhPLvP54Y="
    #- secure: "eQQ0VodfYH09bvyE6q/ZeQ2c0eA5zRkwy+vBkqS3qzx7+q7HegAU2b0URt6ZbD22yhwqocP6lOgp73Z+6cZnxy+4l5iOADl9jdjM2L6vD7IvP1gNb+1wHutPJo/UUeWnoD9e4N4/jhjTvSAEw4/5wnn2o0dqShOE+Qxinb5gUBSKN0q4uuzyN9j4os9c1neHcW3ewoDiKFo88SFZjD1PeioRYOXGcmqHbWD83jnTYEte9RmtHP1jVUuHDWfZvluiJUZ+anPtTtxVFo+mjZfDLL4Nxh70YhWADYOv9oAttl0EQcFwUHQ9tMu3CM+3fTlydqFOXs9CzLjnn4sLNBp8sI7x+9kIpH4eHzn14/prWz1/HFJy2p9qH6z7n5h1oageuAdK7DNIhzzjh7+4XgPQg2IuzhNcDW5ICmhaPAqySm+B/EZyLuSx+/eVdtFYNe19ayvEmPfbjTORQwxfD01c76bjnmt/9lSDQHWnEfiDlkk14fM4pp0VctDGEEq1HOdodImzYEtJLtN1Cv8tfBET9kNzqoctVCC2g9gBFV5nm0k8jZ1cLdM/b/xBey9opDJog+2Q2C01QGM2gCXbyCLF1KZQaoALmP8RFNFlnNfl0GYkW6DS9KuT3dJGkjNQ8udXonltX1YesQi7CnRYbcw+6OOWsPG7QY2zsPjq77XBn0s="
branches:
  only:
   - master
addons:
  apt:
    packages:
      - sshpass
  
language: java
jdk: oraclejdk7
install: mvn install -DskipTests=true
after_success:
  - sshpass -p $VPS_PASSWORD scp -o UserKnownHostsFile=/dev/null -o StrictHostKeyChecking=no ocelotds.ear/target/ocelotds*.ear $VPS_USERNAME@$VPS_HOST:/root/autodeploy/ocelotds.ear
#  - "curl -H \"Content-Type: application/json\" --data '{\"build\": true}' -X POST https://registry.hub.docker.com/u/hhfrancois/ocelotds.org/trigger/a3344f80-4bed-406c-9e6c-bac48428c0cf/"
#  - ls target/ocelotds*.war

#  - sshpass -p $pwdvps ssh $loginvps@$hostvps "rm /opt/glassfish4/glassfish/domains/domain1/autodeploy/ocelotds.war"

